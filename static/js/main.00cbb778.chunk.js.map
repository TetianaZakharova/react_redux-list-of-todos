{"version":3,"sources":["store/index.ts","helpers/api.ts","components/TodoList.tsx","App.tsx","index.tsx"],"names":["setTodos","todos","type","setError","error","finishLoading","message","sortTodo","sortByField","isLoading","state","loading","loadSortButtons","getSortedTodos","sort","a","b","user","name","localeCompare","title","completed","initialState","store","createStore","action","filter","todo","id","composeWithDevTools","BASE_URL","TODOS_URL","USERS_URL","getPreparedTodos","Promise","all","fetch","then","json","users","map","find","userId","TodoList","dispatch","useDispatch","className","key","classnames","item__completed","onClick","App","useSelector","isLoadSortButtons","downloadTodos","data","Root","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.00cbb778.chunk.js","sourcesContent":["import { createStore, AnyAction } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\n\n// Action types - is just a constant. MUST have a unique value.\nconst START_LOADING = 'START_LOADING';\nconst SET_TODOS = 'SET_TODOS';\nconst SET_ERROR = 'SET_ERROR';\nconst FINISH_LOADING = 'FINISH_LOADING';\nconst REMOVE_TODO = 'REMOVE_TODO';\nconst SORT_TODO = 'SORT_TODO';\n\n\n// Action creators - a function returning an action object\nexport const startLoading = () => ({\n  type: START_LOADING,\n});\nexport const setTodos = (todos: TodosFromServer[]) => ({\n  type: SET_TODOS,\n  todos,\n});\n\nexport const setError = (error = '') => ({\n  type: SET_ERROR,\n  error,\n});\n\nexport const finishLoading = (message = '') => ({\n  type: FINISH_LOADING,\n  message,\n});\nexport const removeTodo = (data: number) => ({\n  type: REMOVE_TODO,\n  id: data,\n});\nexport const sortTodo = (sortByField: string) => ({\n  type: SORT_TODO,\n  sortByField,\n});\n\n// Selectors - a function receiving Redux state and returning some data from it\nexport const isLoading = (state: RootState) => state.loading;\nexport const getTodos = (state: RootState) => state.todos;\nexport const getSortByField = (state: RootState) => state.sortByField;\nexport const loadSortButtons = (state: RootState) => state.loadSortButtons;\nexport const getSortedTodos = (state: RootState) => {\n  switch (state.sortByField) {\n    case 'userName':\n      return [...state.todos].sort((a, b) => a.user.name.localeCompare(b.user.name));\n      break;\n    case 'title':\n      return [...state.todos].sort((a, b) => a.title.localeCompare(b.title));\n      break;\n    case 'status':\n      return [...state.todos].sort((a, b) => +a.completed - +b.completed);\n      break;\n    default: return [...state.todos];\n  }\n};\n\n// Initial state\nexport type RootState = {\n  loading: boolean;\n  todos: TodosFromServer[];\n  loadSortButtons: boolean;\n  message: string;\n  sortByField: string;\n};\n\nconst initialState: RootState = {\n  loading: false,\n  todos: [],\n  loadSortButtons: false,\n  message: '',\n  sortByField: 'userName',\n};\n\n// rootReducer - this function is called after dispatching an action\nconst rootReducer = (state = initialState, action: AnyAction) => {\n  switch (action.type) {\n    case START_LOADING:\n      return {\n        ...state,\n        loading: true,\n        loadSortButtons: true,\n      };\n\n    case SET_TODOS:\n      return {\n        ...state,\n        todos: [...action.todos],\n      };\n\n    case FINISH_LOADING:\n      return {\n        ...state,\n        loading: false,\n      };\n\n    case REMOVE_TODO:\n      return {\n        ...state,\n        todos: state.todos.filter(todo => todo.id !== action.id),\n      };\n\n    case SORT_TODO:\n      return {\n        ...state,\n        sortByField: action.sortByField,\n      };\n\n    default:\n      return state;\n  }\n};\n\n// The `store` should be passed to the <Provider store={store}> in `/src/index.tsx`\nconst store = createStore(\n  rootReducer,\n  composeWithDevTools(), // allows you to use http://extension.remotedev.io/\n);\n\nexport default store;\n","\nconst BASE_URL = 'https://mate-academy.github.io/react_dynamic-list-of-todos/api';\nconst TODOS_URL = `${BASE_URL}/todos.json`;\nconst USERS_URL = `${BASE_URL}/users.json`;\n\nconst getTodos = () => {\n  return fetch(TODOS_URL)\n    .then(todos => todos.json());\n};\n\nconst getUsers = () => {\n  return fetch(USERS_URL)\n    .then(users => users.json());\n};\n\nexport const getPreparedTodos = async () => {\n  const [todos, users] = await Promise.all([getTodos(), getUsers()]);\n\n  return todos.map((todo: TodoFromServer) => {\n    return {\n      ...todo,\n      user: users.find((user: UserFromServer) => user.id === todo.userId),\n    };\n  });\n};\n","import React from 'react';\nimport classnames from 'classnames';\nimport { useDispatch } from 'react-redux';\nimport { removeTodo } from '../store';\n\ntype Props = {\n  todos: Array<TodosFromServer>;\n};\n\nexport const TodoList: React.FC<Props> = ({ todos }) => {\n  const dispatch = useDispatch();\n\n  return (\n    <>\n      <ul className=\"todo__list\">\n        {todos.map(todo => (\n          <li\n            key={todo.id}\n            className=\"todo__item\"\n          >\n            <h3 className=\"todo__item--user\">{todo.user.name}</h3>\n            <p className=\"todo__item--text\">{todo.title}</p>\n            <p\n              className={classnames('item__status', {\n                item__completed: todo.completed,\n              })}\n            >\n              {todo.completed ? 'Done' : 'In Process'}\n            </p>\n            <button\n              type=\"button\"\n              className=\"btn btn-danger\"\n              onClick={() => dispatch(removeTodo(todo.id))}\n            >\n              X\n            </button>\n          </li>\n        ))}\n      </ul>\n    </>\n  );\n};\n","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { getPreparedTodos } from './helpers/api';\nimport { TodoList } from './components/TodoList';\nimport './App.scss';\n\nimport {\n  isLoading,\n  getSortedTodos,\n  setTodos,\n  setError,\n  startLoading,\n  finishLoading,\n  sortTodo,\n  loadSortButtons,\n} from './store';\n\nconst App = () => {\n  const loading = useSelector(isLoading);\n  const todos = useSelector(getSortedTodos);\n  const isLoadSortButtons = useSelector(loadSortButtons);\n  const dispatch = useDispatch();\n\n  const downloadTodos = async () => {\n    dispatch(startLoading());\n    try {\n      const data = await getPreparedTodos();\n\n      dispatch(setTodos(data));\n    } catch (error) {\n      dispatch(setError(`ERROR: ${error}`));\n    }\n\n    dispatch(finishLoading());\n  };\n\n  const sortByTitle = () => {\n    dispatch(sortTodo('title'));\n  };\n\n  const sortByUserName = () => {\n    dispatch(sortTodo('userName'));\n  };\n\n  const sortByStatus = () => {\n    dispatch(sortTodo('status'));\n  };\n\n  return (\n    <div className=\"App\">\n      <h1>Redux list of todos</h1>\n      {isLoadSortButtons\n        ? (\n          <div className=\"todo__button\">\n            <button type=\"button\" className=\"btn btn-info\" onClick={sortByTitle}>Sort By Title</button>\n            <button type=\"button\" className=\"btn btn-info\" onClick={sortByUserName}>Sort By Name</button>\n            <button type=\"button\" className=\"btn btn-info\" onClick={sortByStatus}>Sort By Status</button>\n          </div>\n        )\n        : (\n          <button\n            type=\"button\"\n            className=\"btn btn-primary\"\n            onClick={downloadTodos}\n          >\n            Load ToDos\n          </button>\n        )}\n      {loading\n        ? 'Loading...'\n        : <TodoList todos={todos} />}\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport store from './store';\nimport App from './App';\n\n// Just a convenient component with all the wrappers for the `App`\n// The Router component (if you use it) should be placed inside the Provider\nconst Root = () => (\n  <Provider store={store}>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </Provider>\n);\n\nReactDOM.render(<Root />, document.getElementById('root'));\n"],"sourceRoot":""}